

    <!DOCTYPE html>

<html>

    <head>

        <meta charset="utf-8">
		<title></title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- test -->
        <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/css/bootstrap-theme.min.css">

    </head>

    <body>

        <a href ="http://www.fabacademy.org/"><h1><strong>Fab Academy 2015</strong></h1> </a>
        <h2 align="right"> Carlo Liuzza</h2>
        
        <script src="http://code.jquery.com/jquery.min.js"></script>

        <script src="/js/bootstrap.min.js"></script>

<!-- my navigation bar -->        	
<nav class="nav nav-pills navbar-inverse">

<ul class="nav nav-pills navbar-inverse navbar-left"> 	<!-- left section -->        

        <li><a href="/index.html"><span class="glyphicon glyphicon-home"></span>&nbsp Home</a></li>

</ul>

 <ul class="nav nav-pills navbar-right"> 				<!-- right section -->

			<li><a href="/pages/profile.html">Profile</a></li>

			<li class="dropdown">						<!-- dropdown menu -->

				<a href="" data-toggle="dropdown" class="dropdown-toggle"> Final project <b class="caret"></b></a>

					<ul class="dropdown-menu">

						<li><a href="/pages/finalproject.html">Description</a></li>

						<li><a href="/pages/schedule-project.html">Schedule</a></li>

						<li><a href="#">Activity log</a></li>                                

						<!-- <li><a href="#">FAQ</a></li> -->

					</ul>
 </ul>

</nav>

<div class="row">
	<div class="list-group col-md-3"> 			

	

        <a href="/pages/week1.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="yellow"> Week 1 assignment</font></h4>
            <p class="list-group-item-text">Principles and practices, project management (Jan 28) </p>
        </a>
        <a href="/pages/week2.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="yellow">Week 2 assignment</font></h4>
            <p class="list-group-item-text">Computer-aided design (Feb 4) </p>
        </a>
        <a href="/pages/week3.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="red">Week 3 assignment</font></h4>
            <p class="list-group-item-text">Computer-controlled cutting (Feb 11) </p>
        </a>
		<a href="/pages/week4.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="yellow">Week 4 assignment</font></h4>
            <p class="list-group-item-text">Electronics production (Feb 18) </p>
        </a>
		<a href="/pages/week5.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="yellow">Week 5 assignment</font></h4>
            <p class="list-group-item-text">3D scanning and printing (Feb 25) </p>
        </a>
		<a href="/pages/week6.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="yellow">Week 6 assignment</font></h4>
            <p class="list-group-item-text">Electronics design (Mar 4) </p>
        </a>
		<a href="/pages/week7.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 7 assignment</font></h4>
            <p class="list-group-item-text">Embedded programming (Mar 11) </p>
        </a>
		<a href="/pages/week8.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 8 assignment</font></h4>
            <p class="list-group-item-text">Computer-controlled machining (Mar 18) </p>
        </a>
		<a href="/pages/week9.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 9 assignment</font></h4>
            <p class="list-group-item-text">Molding and casting (Mar 25) </p>
        </a>
		<a href="/pages/week10.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 10 assignment</font></h4>
            <p class="list-group-item-text">Input devices (Apr 8) </p>
        </a>
		<a href="/pages/week11.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 11 assignment</font></h4>
            <p class="list-group-item-text">Output devices (Apr 15) </p>
        </a>
		<a href="/pages/week12.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 12 assignment</font></h4>
            <p class="list-group-item-text">Composites (Apr 22) </p>
        </a>
		<a href="/pages/week13.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 13 assignment</font></h4>
            <p class="list-group-item-text">Networking and communications (Apr 29) </p>
        </a>
		<a href="/pages/week14.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 14 assignment</font></h4>
            <p class="list-group-item-text">Mechanical design, machine design (May 6) </p>
        </a>
		<a href="/pages/week15.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 15 assignment</font></h4>
            <p class="list-group-item-text">Interface and application programming (May 13) </p>
        </a>
		<a href="/pages/week16.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 16 assignment</font></h4>
            <p class="list-group-item-text">Applications and implications (May 20) </p>
        </a>
		<a href="/pages/week17.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 17 assignment</font></h4>
            <p class="list-group-item-text">Invention, intellectual property, and income (May 27) </p>
        </a>
		<a href="/pages/week18.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 18 assignment</font></h4>
            <p class="list-group-item-text">Project development (Jun 3) </p>
        </a>
		<a href="/pages/week19.html" class="list-group-item">
            <h4 class="list-group-item-heading glyphicon glyphicon-pencil">&nbsp <font color="grey">Week 19 assignment</font></h4>
            <p class="list-group-item-text">Project presentation (Jun 10)  </p>
        </a>


	</div>

	<div class="col-md-9"> 
			<h2 id="electronics-design-mar-4"><strong>Electronics design (Mar 4)</strong></h2>

<p>This week electronic again, but this time we have to design our first board. Designing electronic was something I always wanted to learn and this is the right opportunity. In this assignment we have to design and mill the hello board. This was quite easy thanks to my local instructor <a href="https://vimeo.com/120501993">tutorial</a>. The tricky thing was adding one LED and one button re-designing the traces without crossing them. In the end we have to solder all the components and to test the board uploading an example of code. Here below the summary and my experience with Eagle. 
<br /><br />
Summary:  </p>

<ul>
  <li><a href="#eagle">Eagle</a></li>
  <li><a href="#conclusions">Conclusions</a></li>
  <li><a href="#project-files">Files</a></li>
</ul>

<p><br />  </p>

<h4 id="eagle"><strong>Eagle</strong></h4>

<p>The tutorial was quite easy but without experience using Eagle I had some little problems. I started loading the libraries suggested:<br />
1. <a href="http://fabacademy.org/archives/2014/tutorials/electronics/fab.lbr">Fab library</a><br />
2. <a href="https://github.com/sparkfun/SparkFun-Eagle-Libraries">Sparkfun library</a></p>

<p>I started adding the first components: the Attiny44, the AVRISPSMD, one resistor and the crystal resonator. Here below you can see the <strong>schematic view</strong> of the circuit. You have to design your circuit using this view. </p>

<p><img src="/img/6th-week/eagle/eagle2.jpg" alt="eagle schematic - first components" />  </p>

<p>In correspondence to schematic view Eagle gives you the <strong>board view</strong>. This is where you have to work to decide how your circuit will be physically built by the milling machine.  </p>

<p><img src="/img/6th-week/eagle/eagle3.jpg" alt="eagle board - first components" />  </p>

<p>I went on adding more components from the library and I started doing the first connections. There is a simple and clean way to wire the components, that is you have to use a line and to give it a label. Obviously if you give the same label in two points, Eagle understands (asking your confirmation) that you want to connect them.  </p>

<p><img src="/img/6th-week/eagle/eagle6.jpg" alt="eagle schematic - first connections" />  </p>

<p>When you do the first connections you can see that in board view there are some yellow lines. These lines are the unrouted connections, that is Eagle tells you that you have to decide which will be the real trace and you have to design it. Below you can also see how are placed the Attiny44 and the AVRISPSMD. The first one is with the first pin (where you can see the white circle) on the top left corner. The second one (below the Attiny) has to be with the first pin on the top right corner. This is quite a standard disposal.  </p>

<p><img src="/img/6th-week/eagle/eagle9.jpg" alt="eagle board - first connections" />  </p>

<p>After a bit of designing I realized that the capacitor and the resonator was not the one I chose from the library. Choosing the right component it is not so easy. I tried to look at the drawing during the tutorial and I also looked at the package dimension. We used 1206 packages. You can find more details about SMD packages dimensions <a href="http://www.microbuilder.eu/Tutorials/Fundamentals/SMDPackages.aspx">here</a>.  </p>

<p><img src="/img/6th-week/eagle/eagle12.jpg" alt="eagle schematic - right capacitor and resonator" />  </p>

<p>The corresponding board view is this one below. I forgot to delete the wrong resonator (the crystal) in the schematic :)  </p>

<p><img src="/img/6th-week/eagle/eagle11.jpg" alt="eagle board - right capacitor and resonator" />  </p>

<p>In the end of the design phase, Eagle helps you to correct some possible errors. Using <strong>ERC</strong> you can correct the errors in the schematic. You can see that Eagle suggested me that the capacitor and the resistor have no values. Moreover, I gave RST label but I forgot to show it (it was hidden).   </p>

<p><img src="/img/6th-week/eagle/eagle14.jpg" alt="eagle schematic - ERC check" />  </p>

<p>Using the board view you can have the <strong>DRC</strong> which suggests you possibile errors you can do during the creation of the board. As you can see below Eagle suggested me that there was one trace that was too near one connection of the Attiny.  </p>

<p><img src="/img/6th-week/eagle/eagle15.jpg" alt="eagle board - DRC check" />  </p>

<p>The solution was reducing the size of the trace from <em>0.016mm</em> to <em>0.012mm</em> and moreover you have to reduce also the size of the grid in Eagle.  </p>

<p><img src="/img/6th-week/eagle/eagle16.jpg" alt="eagle board - before DRC check" />  </p>

<p>After correcting the DRC error the board looks as below.  </p>

<p><img src="/img/6th-week/eagle/eagle18.jpg" alt="eagle board - after DRC check" />  </p>

<p>One good practice is to smooth the corners of the traces with the corresponding tool.  </p>

<p><img src="/img/6th-week/eagle/eagle20.jpg" alt="eagle board - smoothing corners" />  </p>

<p>In the end you have to export the design to obtain a PNG image. You have do disable all the layers from the <code>view menu</code>, choosing <code>layer settings</code> and select only Top, via pads and pin layers. After that, you have to export with these settings:  </p>

<ul>
  <li>resolution: 500 dpi  </li>
  <li>monochrome</li>
  <li>area: Full</li>
</ul>

<p>This is the exported image  </p>

<p><img src="/img/6th-week/png/exported-hello-board2.jpeg" alt="exported board - circle ftdi pads" />  </p>

<p>In order to make the soldering easier you can modify the image (I used Gimp) to have squared pads for the FTDI connector.  </p>

<p><img src="/img/6th-week/png/exported-hello-board3.jpeg" alt="exported board - square ftdi pads" />  </p>

<p>Now I had to add one button and one LED. First of all I had to understand which are the input/output pins of the Attiny. Reading the manual you can see that from PA0 to PA7 you have all the I/O pins. Pins are enumerated in the schematic view, but more important is to understand pins numeration in the board view because you have to place the components in such a way that it will be easy to design the connections avoiding to cross the other ones you have already done. The first pin was the one with the little dot (white circle in the board view) and in counterclockwise manner you will have the other pins.  </p>

<p>In the beginning I added the button in pin 10 but that pin was on the right of the Attiny and it was very difficult to find the right place location to connect the button without crossing the other lines I already did. I spent some time to think and it was a little bit frustrating, but in the end my local instructor helped me to solve my problem. It was quite easy but I still don’t have the right mental agility. More practice will help me :) Another trick is to let the lines go under some components. For example you can see the lines under the Attiny but you can also do lines passing under the resistor on under the button. Moreover, you have to know that the button has four pins but they are connected in pairs so it is enough if you connect two pins, that is 1 or 2 and 3 or 4.  </p>

<p>In the end I had this board below  </p>

<p><img src="/img/6th-week/eagle/eagle28.jpg" alt="eagle board - too large" />  </p>

<p>This is the right one but I decided to reduce that space on the right side in order to have a more compact board   </p>

<p><img src="/img/6th-week/eagle/eagle29.jpg" alt="eagle board - definitive" />  </p>

<p>The final exported image to etch is this one  </p>

<p><img src="/img/6th-week/png/exported-hello-board6.jpeg" alt="exported final board to etch" />  </p>

<p>In order to drill the board I also did one image using the same size of the one exported but with white borders. Here below in the picture it is difficult to see it because of my white background color.  </p>

<p><img src="/img/6th-week/png/exported-hello-board1.jpeg" alt="exported final board to drill" />  </p>

<p>In the end I can show you my first designed board :)  </p>

<p><img src="/img/6th-week/helloBoard1.jpg" alt="etched hello board" />  </p>

<p>Finally I soldered all the components and my local instructor helped me to verify the board uploading one code example.  </p>

<p><img src="/img/6th-week/helloBoard2.jpg" alt="etched hello board" />  </p>

<p>One error I did when I soldered the board was that I soldered the AVRISPSMD and the FTDI connectors with too short pins. I had to de-solder them with the hot air gun and I did two new connectors in such a way that I had the pins as long as possibile. I have to remember this lesson because if you have to de-solder the pins it is not so easy..</p>

<h4 id="conclusions"><strong>Conclusions</strong></h4>
<p>I was quite satisfied of this experience. I like electronic and I’d like to do more boards even for my pleasure. I hope I will find spare time in next days :) </p>

<h4 id="project-files"><strong>Project files</strong></h4>
<p>Here are the <a href="/files/6th-week/6th-week-files.zip">files</a>. You 
can find:  </p>

<ul>
  <li>png files to etch and to drill the board</li>
  <li>Eagle schematic and board file  </li>
</ul>


	</div> 
</div>    
    <style>
	hr { background-color: black; height: 1px; border: 0; }
</style>

<hr>
<div class="row">
	<p class="text-center">
		<a href="/index.html"> Home</a>
		|
		<a href="/pages/profile.html"> Profile</a>
		|
		<a href="/pages/finalproject.html"> Final project</a>
	</p>
</div>	
<br>
  </body>
</html>

